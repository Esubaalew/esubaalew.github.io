{% extends "base.html" %}

{% block extrahead %}
  <!-- SEO Meta Tags -->
  <meta name="description" content="{% if page.meta and page.meta.description %}{{ page.meta.description }}{% else %}{{ config.site_description }}{% endif %}">
  <meta name="keywords" content="{% if page.meta and page.meta.keywords %}{{ page.meta.keywords }}{% else %}Esubalew Chekol, Software Engineer, AI, Machine Learning, Rust, Python, Ethiopia, Full Stack Developer, Systems Programming{% endif %}">
  <meta name="author" content="{% if page.meta and page.meta.author %}{{ page.meta.author }}{% else %}{{ config.site_author }}{% endif %}">
  <meta name="robots" content="index, follow">
  <meta name="googlebot" content="index, follow">
  <meta name="language" content="English">
  <meta name="revisit-after" content="7 days">
  <meta name="google-adsense-account" content="ca-pub-8765857492346495">
  
  <!-- Canonical URL -->
  <link rel="canonical" href="{{ page.canonical_url }}">
  
  <!-- Dynamic OG Image Selection -->
  {% set og_image = config.site_url ~ "/assets/og-image.png" %}
  {% set og_description = config.site_description %}
  {% set og_type = "website" %}
  {% set og_title = config.site_name %}
  
  {% if page and page.file and page.file.src_path %}
    {# Get page-specific OG metadata from frontmatter #}
    {% if page.meta and page.meta['og:type'] %}
      {% set og_type = page.meta['og:type'] %}
    {% elif page.file.src_path.startswith('blog/') and page.file.src_path != 'blog/index.md' %}
      {% set og_type = "article" %}
    {% endif %}
    
    {% if page.meta and page.meta['og:title'] %}
      {% set og_title = page.meta['og:title'] %}
    {% elif page.title %}
      {% set og_title = page.title ~ " - " ~ config.site_name %}
    {% endif %}
    
    {% if page.meta and page.meta['og:description'] %}
      {% set og_description = page.meta['og:description'] %}
    {% elif page.meta and page.meta.description %}
      {% set og_description = page.meta.description %}
    {% endif %}
    
    {% if page.meta and page.meta['og:image'] %}
      {% set og_image = config.site_url ~ "/" ~ page.meta['og:image'] %}
    {% elif page.file.src_path.startswith('blog/') %}
      {% set og_image = config.site_url ~ "/assets/og-blog.png" %}
    {% endif %}
  {% endif %}
  
  <!-- Open Graph / Facebook -->
  <meta property="og:type" content="{{ og_type }}">
  <meta property="og:url" content="{{ page.canonical_url }}">
  <meta property="og:site_name" content="{{ config.site_name }}">
  <meta property="og:title" content="{{ og_title }}">
  <meta property="og:description" content="{{ og_description }}">
  <meta property="og:image" content="{{ og_image }}">
  <meta property="og:image:width" content="1200">
  <meta property="og:image:height" content="630">
  <meta property="og:image:alt" content="{% if page.title %}{{ page.title }}{% else %}{{ config.site_name }}{% endif %} - Software Engineer & AI Student">
  <meta property="og:locale" content="en_US">
  
  {% if og_type == "article" %}
  <meta property="article:author" content="https://linkedin.com/in/esubaalew">
  {% if page.meta and page.meta.date %}
  <meta property="article:published_time" content="{{ page.meta.date }}">
  {% endif %}
  {% if page.meta and page.meta.tags %}
  {% for tag in page.meta.tags %}
  <meta property="article:tag" content="{{ tag }}">
  {% endfor %}
  {% endif %}
  {% endif %}
  
  <!-- X (Twitter) -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@esubaalew">
  <meta name="twitter:creator" content="@esubaalew">
  <meta name="twitter:url" content="{{ page.canonical_url }}">
  <meta name="twitter:title" content="{{ og_title }}">
  <meta name="twitter:description" content="{{ og_description }}">
  <meta name="twitter:image" content="{{ og_image }}">
  <meta name="twitter:image:alt" content="{% if page.title %}{{ page.title }}{% else %}{{ config.site_name }}{% endif %} - Software Engineer & AI Student">
  <meta name="twitter:label1" content="Written by">
  <meta name="twitter:data1" content="{% if page.meta and page.meta.author %}{{ page.meta.author }}{% else %}{{ config.site_author }}{% endif %}">
  {% if page.meta and page.meta.date %}
  <meta name="twitter:label2" content="Published on">
  <meta name="twitter:data2" content="{{ page.meta.date }}">
  {% endif %}
  
  <!-- LinkedIn -->
  <meta property="og:image:secure_url" content="{{ og_image }}">
  
  <!-- Apple Touch Icon -->
  <link rel="apple-touch-icon" sizes="180x180" href="{{ 'assets/apple-touch-icon.png' | url }}">
  
  <!-- Favicon -->
  <link rel="icon" type="image/png" sizes="32x32" href="{{ 'assets/favicon.png' | url }}">
  
  <!-- Schema.org JSON-LD for Person -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "Person",
    "name": "Esubalew Chekol",
    "url": "{{ config.site_url }}",
    "image": "{{ config.site_url }}/assets/og-image.png",
    "jobTitle": "Software Engineer",
    "worksFor": {
      "@type": "Organization",
      "name": "INTAPS"
    },
    "alumniOf": {
      "@type": "EducationalOrganization",
      "name": "Addis Ababa University"
    },
    "email": "esubalewchekol6@gmail.com",
    "telephone": "+251910945592",
    "address": {
      "@type": "PostalAddress",
      "addressLocality": "Addis Ababa",
      "addressCountry": "Ethiopia"
    },
    "sameAs": [
      "https://github.com/Esubaalew",
      "https://t.me/esubbalew",
      "https://linkedin.com/in/esubaalew",
      "https://x.com/esubaalew"
    ],
    "knowsAbout": ["Rust", "Python", "C#", "Machine Learning", "Deep Learning", "Systems Programming"]
  }
  </script>
  
  <!-- Schema.org JSON-LD for WebSite -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "WebSite",
    "name": "{{ config.site_name }}",
    "url": "{{ config.site_url }}",
    "description": "{{ config.site_description }}",
    "author": {
      "@type": "Person",
      "name": "{{ config.site_author }}"
    },
    "potentialAction": {
      "@type": "SearchAction",
      "target": "{{ config.site_url }}/search.html?q={search_term_string}",
      "query-input": "required name=search_term_string"
    }
  }
  </script>
  
  {% if og_type == "article" and page and page.file and page.file.src_path.startswith('blog/') %}
  <!-- Schema.org JSON-LD for BlogPosting -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "BlogPosting",
    "headline": "{% if page.title %}{{ page.title }}{% endif %}",
    "description": "{% if page.meta and page.meta.description %}{{ page.meta.description }}{% endif %}",
    "image": "{{ og_image }}",
    "author": {
      "@type": "Person",
      "name": "{% if page.meta and page.meta.author %}{{ page.meta.author }}{% else %}{{ config.site_author }}{% endif %}",
      "url": "{{ config.site_url }}",
      "sameAs": [
        "https://github.com/Esubaalew",
        "https://linkedin.com/in/esubaalew",
        "https://x.com/esubaalew"
      ]
    },
    "publisher": {
      "@type": "Person",
      "name": "{{ config.site_author }}",
      "logo": {
        "@type": "ImageObject",
        "url": "{{ config.site_url }}/assets/logo.png"
      }
    },
    "datePublished": "{% if page.meta and page.meta.date %}{{ page.meta.date }}{% endif %}",
    "dateModified": "{% if page.meta and page.meta.date %}{{ page.meta.date }}{% endif %}",
    "mainEntityOfPage": {
      "@type": "WebPage",
      "@id": "{{ page.canonical_url }}"
    },
    "url": "{{ page.canonical_url }}"{% if page.meta and page.meta.keywords %},
    "keywords": "{{ page.meta.keywords }}"{% endif %}{% if page.meta and page.meta.tags %},
    "articleSection": "{{ page.meta.tags | join(', ') }}"{% endif %}
  }
  </script>
  {% endif %}
  
  {% if page and page.file and page.file.src_path == 'projects.md' %}
  <!-- Schema.org JSON-LD for ItemList (Projects) -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "ItemList",
    "name": "Software Projects by Esubalew Chekol",
    "description": "Portfolio of open-source projects and software development work",
    "url": "{{ page.canonical_url }}",
    "numberOfItems": 30,
    "itemListElement": [
      {
        "@type": "SoftwareSourceCode",
        "position": 1,
        "name": "run-kit",
        "description": "Universal multi-language runner and smart REPL written in Rust",
        "url": "https://github.com/Esubaalew/run",
        "codeRepository": "https://github.com/Esubaalew/run",
        "programmingLanguage": "Rust"
      },
      {
        "@type": "SoftwareSourceCode",
        "position": 2,
        "name": "Star Growth",
        "description": "Generate shareable scroll animations of GitHub stargazers",
        "url": "https://github.com/esubaalew/star-growth",
        "codeRepository": "https://github.com/esubaalew/star-growth",
        "programmingLanguage": "Python"
      },
      {
        "@type": "WebApplication",
        "position": 3,
        "name": "Cadastral Information System",
        "description": "Mission-critical land administration platform",
        "url": "https://intaps.et",
        "applicationCategory": "BusinessApplication",
        "operatingSystem": "Web"
      }
    ]
  }
  </script>
  {% endif %}
{% endblock %}

